{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nconst axios = require('axios');\n// 配置常量\nconst CONFIG = {\n  appId: 'wx6872b1e938e23c07',\n  appSecret: 'bb0342f524bf2fe87416defe5797f40a',\n  env: 'cloud1-6gzxjy5k59c1f367'\n};\nexport default {\n  name: 'goodsList',\n  data() {\n    return {\n      dialogVisible: false,\n      editForm: {\n        name: '',\n        price: '',\n        category: '',\n        image: ''\n      },\n      queryParam: {\n        page: 1,\n        limit: 10,\n        name: '',\n        price: '',\n        category: '',\n        image: ''\n      },\n      total: 0,\n      goodsData: [],\n      timer: null\n    };\n  },\n  methods: {\n    // 将数据上传到微信云数据库\n    async handleUpload() {\n      try {\n        const accessToken = await this.getAccessToken();\n        const dataToUpload = {\n          good: this.queryParam.good,\n          name: this.queryParam.name,\n          price: this.queryParam.price,\n          category: this.queryParam.category,\n          image: this.queryParam.image\n        };\n        // 由于 response 变量声明后未使用，直接执行请求，不保存响应结果\n        await axios.post(`/wechat-api/tcb/databaseadd?access_token=${accessToken}`, {\n          env: CONFIG.env,\n          query: `db.collection('goods').add({ data: ${JSON.stringify(dataToUpload)} })`\n        });\n        this.$message.success('数据上传成功');\n        this.queryCloudDatabase();\n      } catch (error) {\n        console.error('数据上传失败:', error);\n        this.$message.error('数据上传失败，请重试');\n      }\n    },\n    handleSizeChange(val) {\n      this.queryParam.limit = val;\n      this.queryCloudDatabase();\n    },\n    handlePageChange(val) {\n      this.queryParam.page = val;\n      this.queryCloudDatabase();\n    },\n    // 获取微信访问令牌\n    async getAccessToken() {\n      try {\n        const response = await axios.get('/cgi-bin/token', {\n          params: {\n            grant_type: 'client_credential',\n            appid: CONFIG.appId,\n            secret: CONFIG.appSecret\n          }\n        });\n        return response.data.access_token;\n      } catch (error) {\n        console.error('获取访问令牌失败:', error);\n        throw error;\n      }\n    },\n    handleUploadSuccess(response) {\n      this.queryParam.image = response.imageUrl;\n      this.$message.success('图片上传成功');\n    },\n    // 提交编辑信息\n    async submitEdit() {\n      try {\n        const accessToken = await this.getAccessToken();\n        const dataToUpdate = {\n          good: this.editForm.good,\n          name: this.editForm.name,\n          price: this.editForm.price,\n          category: this.editForm.category,\n          image: this.editForm.image\n        };\n        await axios.post(`/wechat-api/tcb/databaseupdate?access_token=${accessToken}`, {\n          env: CONFIG.env,\n          query: `db.collection('goods').doc('${this.editForm._id}').update({ data: ${JSON.stringify(dataToUpdate)} })`\n        });\n        this.$message.success('商品信息编辑成功');\n        this.dialogVisible = false;\n        this.queryCloudDatabase();\n      } catch (error) {\n        console.error('商品信息编辑失败:', error);\n        this.$message.error('商品信息编辑失败，请重试');\n      }\n    },\n    // 编辑商品信息并上传到云数据库\n    async handleEdit(item) {\n      this.editForm = {\n        _id: item._id,\n        good: item.good,\n        name: item.name,\n        price: item.price,\n        category: item.category,\n        image: item.image\n      };\n      this.dialogVisible = true;\n      try {\n        const accessToken = await this.getAccessToken();\n        const dataToUpdate = {\n          good: item.good,\n          name: item.name,\n          price: item.price,\n          category: item.category,\n          image: item.image\n        };\n        await axios.post(`/wechat-api/tcb/databaseupdate?access_token=${accessToken}`, {\n          env: CONFIG.env,\n          query: `db.collection('goods').doc('${item._id}').update({ data: ${JSON.stringify(dataToUpdate)} })`\n        });\n        this.queryCloudDatabase();\n      } catch (error) {\n        console.error('商品信息编辑失败:', error);\n        this.$message.error('商品信息编辑失败，请重试');\n      }\n    },\n    // 删除商品信息\n    async handleDelete(id) {\n      try {\n        const accessToken = await this.getAccessToken();\n        await axios.post(`/wechat-api/tcb/databasedelete?access_token=${accessToken}`, {\n          env: CONFIG.env,\n          query: `db.collection('goods').doc('${id}').remove()`\n        });\n        this.$message.success('商品删除成功');\n        this.queryCloudDatabase();\n      } catch (error) {\n        console.error('商品删除失败:', error);\n        this.$message.error('商品删除失败，请重试');\n      }\n    },\n    // 查询云数据库\n    async queryCloudDatabase() {\n      try {\n        const accessToken = await this.getAccessToken();\n        const query = {\n          env: CONFIG.env,\n          query: `db.collection('goods').skip(${(this.queryParam.page - 1) * this.queryParam.limit}).limit(${this.queryParam.limit}).get()`,\n          totalQuery: \"db.collection('goods').count()\"\n        };\n        const response = await axios.post(`/wechat-api/tcb/databasequery?access_token=${accessToken}`, query);\n        const [dataRes, countRes] = await Promise.all([axios.post(`/wechat-api/tcb/databasequery?access_token=${accessToken}`, {\n          env: CONFIG.env,\n          query: query.query\n        }), axios.post(`/wechat-api/tcb/databasecount?access_token=${accessToken}`, {\n          env: CONFIG.env,\n          query: query.totalQuery\n        })]);\n        const newData = dataRes.data.data.map(item => JSON.parse(item));\n        // const newData = dataRes.data.data ? dataRes.data.data.map(item => JSON.parse(item)) : [];\n        if (JSON.stringify(newData) !== JSON.stringify(this.goodsData)) {\n          this.goodsData = newData;\n          this.total = countRes.data.count;\n        }\n        return response.data;\n      } catch (error) {\n        console.error('查询云数据库失败:', error);\n        throw error;\n      }\n    }\n  },\n  mounted() {\n    // 首次加载数据\n    this.queryCloudDatabase();\n    // 启动定时器（每5秒请求一次）\n    this.timer = setInterval(() => {\n      this.queryCloudDatabase().catch(() => {});\n    }, 10000);\n  },\n  beforeUnmount() {\n    // 组件卸载时清除定时器\n    if (this.timer) {\n      clearInterval(this.timer);\n      this.timer = null;\n    }\n  }\n};","map":{"version":3,"names":["axios","require","CONFIG","appId","appSecret","env","name","data","dialogVisible","editForm","price","category","image","queryParam","page","limit","total","goodsData","timer","methods","handleUpload","accessToken","getAccessToken","dataToUpload","good","post","query","JSON","stringify","$message","success","queryCloudDatabase","error","console","handleSizeChange","val","handlePageChange","response","get","params","grant_type","appid","secret","access_token","handleUploadSuccess","imageUrl","submitEdit","dataToUpdate","_id","handleEdit","item","handleDelete","id","totalQuery","dataRes","countRes","Promise","all","newData","map","parse","count","mounted","setInterval","catch","beforeUnmount","clearInterval"],"sources":["C:\\Users\\Administrator\\Desktop\\小程序后台\\coffeeshop\\src\\components\\order\\goods.vue"],"sourcesContent":["<template>\r\n    <!-- 编辑弹窗 -->\r\n    <el-dialog v-model=\"dialogVisible\" title=\"编辑商品信息\">\r\n        <el-form :model=\"editForm\" label-width=\"120px\">\r\n            <el-form-item label=\"商品名称\">\r\n                <el-input v-model=\"editForm.name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"价格\">\r\n                <el-input v-model=\"editForm.price\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"分类\">\r\n                <el-input v-model=\"editForm.category\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"图片\">\r\n                <el-input v-model=\"editForm.image\"></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n            <span class=\"dialog-footer\">\r\n                <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitEdit\">确定</el-button>\r\n            </span>\r\n        </template>\r\n    </el-dialog>\r\n\r\n    <!-- 物品上传模块 -->\r\n\r\n    <div class=\"content-container\" style=\"padding-bottom: 0; margin-bottom: 0;\">\r\n        <div style=\"margin: 0 0 20px 10px;\">物品上传:</div>\r\n        <el-container class=\"content-row\">\r\n            <div class=\"input-tip\">\r\n                商品ID:\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <el-input v-model=\"queryParam.good\"></el-input>\r\n            </div>\r\n            <div class=\"input-tip\">\r\n                商品名称:\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <el-input v-model=\"queryParam.name\"></el-input>\r\n            </div>\r\n        </el-container>\r\n        <el-container class=\"content-row\">\r\n            <div class=\"input-tip\">\r\n                价格:\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <el-input v-model=\"queryParam.price\"></el-input>\r\n            </div>\r\n            <div class=\"input-tip\">\r\n                分类:\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <el-input v-model=\"queryParam.category\"></el-input>\r\n            </div>\r\n        </el-container>\r\n        <el-container class=\"content-row\">\r\n            <div class=\"input-tip\">\r\n                图片:\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <el-upload action=\"/cgi-bin/media/upload\" :data=\"queryParam.image\" :on-success=\"handleUploadSuccess\"\r\n                    :on-error=\"handleUploadError\" :on-progress=\"handleUploadProgress\">\r\n                    <el-button type=\"primary\">点击上传</el-button>\r\n                </el-upload>\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <img v-if=\"queryParam.image\" :src=\"queryParam.image\" style=\"width: 100px; height: 100px;\">\r\n            </div>\r\n        </el-container>\r\n\r\n        <!-- 上传按钮 -->\r\n        <el-container class=\"content-row\">\r\n            <div class=\"input-tip\">\r\n            </div>\r\n            <div class=\"input-field\">\r\n                <el-button type=\"primary\" @click=\"handleUpload\">上传后台云数据</el-button>\r\n            </div>\r\n        </el-container>\r\n    </div>\r\n\r\n\r\n    <!-- 表格展示 -->\r\n    <div>\r\n        <table v-if=\"goodsData.length > 0\">\r\n            <thead>\r\n                <tr>\r\n                    <th>商品ID</th>\r\n                    <th>商品名称</th>\r\n                    <th>价格</th>\r\n                    <th>分类</th>\r\n                    <th>图片</th>\r\n                    <!-- 编辑和删除功能 -->\r\n                    <th>编辑/删除</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"(item, index) in goodsData\" :key=\"index\">\r\n                    <td>{{ item._id }}</td>\r\n                    <td>{{ item.name }}</td>\r\n                    <td>{{ item.price }}</td>\r\n                    <td>{{ item.category }}</td>\r\n                    <td>\r\n                        <img :src=\"item.image\" style=\"width: 100px; height: 100px;\">\r\n                    </td>\r\n                    <td>\r\n                        <div style=\"display: flex; flex-direction: column; gap: 8px;\">\r\n                            <el-button type=\"primary\" @click=\"handleEdit(item)\" style=\"width: 100px;\">编辑</el-button>\r\n                            <el-button type=\"danger\" @click=\"handleDelete(item._id)\"\r\n                                style=\"width: 100px; margin-left: 0px;\">删除</el-button>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        <el-pagination background :page-sizes=\"[10, 20, 50]\" :current-page=\"queryParam.page\"\r\n            :page-size=\"queryParam.limit\" layout=\"total, sizes, prev, pager, next\" :total=\"total\"\r\n            @size-change=\"handleSizeChange\" @current-change=\"handlePageChange\" />\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nconst axios = require('axios');\r\n// 配置常量\r\nconst CONFIG = {\r\n    appId: 'wx6872b1e938e23c07',\r\n    appSecret: 'bb0342f524bf2fe87416defe5797f40a',\r\n    env: 'cloud1-6gzxjy5k59c1f367'\r\n};\r\n\r\nexport default {\r\n    name: 'goodsList',\r\n    data() {\r\n        return {\r\n            dialogVisible: false,\r\n            editForm: {\r\n                name: '',\r\n                price: '',\r\n                category: '',\r\n                image: ''\r\n            },\r\n            queryParam: {\r\n                page: 1,\r\n                limit: 10,\r\n                name: '', \r\n                price: '', \r\n                category: '', \r\n                image: '', \r\n            },\r\n            total: 0,\r\n            goodsData: [],\r\n            timer: null,\r\n        };\r\n    },\r\n    methods: {\r\n        // 将数据上传到微信云数据库\r\n        async handleUpload() {\r\n            try {\r\n                const accessToken = await this.getAccessToken();\r\n                const dataToUpload = {\r\n                    good: this.queryParam.good,\r\n                    name: this.queryParam.name,\r\n                    price: this.queryParam.price,\r\n                    category: this.queryParam.category,\r\n                    image: this.queryParam.image\r\n                };\r\n                // 由于 response 变量声明后未使用，直接执行请求，不保存响应结果\r\n                await axios.post(\r\n                    `/wechat-api/tcb/databaseadd?access_token=${accessToken}`,\r\n                    {\r\n                        env: CONFIG.env,\r\n                        query: `db.collection('goods').add({ data: ${JSON.stringify(dataToUpload)} })`\r\n                    }\r\n                );\r\n                this.$message.success('数据上传成功');\r\n                this.queryCloudDatabase();\r\n            } catch (error) {\r\n                console.error('数据上传失败:', error);\r\n                this.$message.error('数据上传失败，请重试');\r\n            }\r\n        },\r\n\r\n        handleSizeChange(val) {\r\n            this.queryParam.limit = val\r\n            this.queryCloudDatabase()\r\n        },\r\n        handlePageChange(val) {\r\n            this.queryParam.page = val\r\n            this.queryCloudDatabase()\r\n        },\r\n        // 获取微信访问令牌\r\n        async getAccessToken() {\r\n            try {\r\n                const response = await axios.get('/cgi-bin/token', {\r\n                    params: {\r\n                        grant_type: 'client_credential',\r\n                        appid: CONFIG.appId,\r\n                        secret: CONFIG.appSecret\r\n                    }\r\n                });\r\n                return response.data.access_token;\r\n            } catch (error) {\r\n                console.error('获取访问令牌失败:', error);\r\n                throw error;\r\n            }\r\n        },\r\n\r\n        handleUploadSuccess(response) {\r\n            this.queryParam.image = response.imageUrl;\r\n            this.$message.success('图片上传成功');\r\n        },\r\n\r\n        // 提交编辑信息\r\n        async submitEdit() {\r\n            try {\r\n                const accessToken = await this.getAccessToken();\r\n                const dataToUpdate = {\r\n                    good: this.editForm.good,\r\n                    name: this.editForm.name,\r\n                    price: this.editForm.price,\r\n                    category: this.editForm.category,\r\n                    image: this.editForm.image\r\n                };\r\n                await axios.post(\r\n                    `/wechat-api/tcb/databaseupdate?access_token=${accessToken}`,\r\n                    {\r\n                        env: CONFIG.env,\r\n                        query: `db.collection('goods').doc('${this.editForm._id}').update({ data: ${JSON.stringify(dataToUpdate)} })`\r\n                    }\r\n                );\r\n                this.$message.success('商品信息编辑成功');\r\n                this.dialogVisible = false;\r\n                this.queryCloudDatabase();\r\n            } catch (error) {\r\n                console.error('商品信息编辑失败:', error);\r\n                this.$message.error('商品信息编辑失败，请重试');\r\n            }\r\n        },\r\n\r\n        // 编辑商品信息并上传到云数据库\r\n        async handleEdit(item) {\r\n            this.editForm = {\r\n                _id: item._id,\r\n                good: item.good,\r\n                name: item.name,\r\n                price: item.price,\r\n                category: item.category,\r\n                image: item.image\r\n            };\r\n            this.dialogVisible = true;\r\n            try {\r\n                const accessToken = await this.getAccessToken();\r\n                const dataToUpdate = {\r\n                    good: item.good,\r\n                    name: item.name,\r\n                    price: item.price,\r\n                    category: item.category,\r\n                    image: item.image\r\n                };\r\n                await axios.post(\r\n                    `/wechat-api/tcb/databaseupdate?access_token=${accessToken}`,\r\n                    {\r\n                        env: CONFIG.env,\r\n                        query: `db.collection('goods').doc('${item._id}').update({ data: ${JSON.stringify(dataToUpdate)} })`\r\n                    });\r\n                this.queryCloudDatabase();\r\n            } catch (error) {\r\n                console.error('商品信息编辑失败:', error);\r\n                this.$message.error('商品信息编辑失败，请重试');\r\n            }\r\n        },\r\n\r\n        // 删除商品信息\r\n        async handleDelete(id) {\r\n            try {\r\n                const accessToken = await this.getAccessToken();\r\n                await axios.post(\r\n                    `/wechat-api/tcb/databasedelete?access_token=${accessToken}`,\r\n                    {\r\n                        env: CONFIG.env,\r\n                        query: `db.collection('goods').doc('${id}').remove()`\r\n                    }\r\n                );\r\n                this.$message.success('商品删除成功');\r\n                this.queryCloudDatabase();\r\n            } catch (error) {\r\n                console.error('商品删除失败:', error);\r\n                this.$message.error('商品删除失败，请重试');\r\n            }\r\n        },\r\n\r\n        // 查询云数据库\r\n        async queryCloudDatabase() {\r\n            try {\r\n                const accessToken = await this.getAccessToken();\r\n                const query = {\r\n                    env: CONFIG.env,\r\n                    query: `db.collection('goods').skip(${(this.queryParam.page - 1) * this.queryParam.limit}).limit(${this.queryParam.limit}).get()`,\r\n                    totalQuery: \"db.collection('goods').count()\"\r\n                };\r\n                const response = await axios.post(\r\n                    `/wechat-api/tcb/databasequery?access_token=${accessToken}`,\r\n                    query\r\n                );\r\n                const [dataRes, countRes] = await Promise.all([\r\n                    axios.post(`/wechat-api/tcb/databasequery?access_token=${accessToken}`, { env: CONFIG.env, query: query.query }),\r\n                    axios.post(`/wechat-api/tcb/databasecount?access_token=${accessToken}`, { env: CONFIG.env, query: query.totalQuery })\r\n                ]);\r\n\r\n                const newData = dataRes.data.data.map(item => JSON.parse(item));\r\n                // const newData = dataRes.data.data ? dataRes.data.data.map(item => JSON.parse(item)) : [];\r\n                if (JSON.stringify(newData) !== JSON.stringify(this.goodsData)) {\r\n                    this.goodsData = newData;\r\n                    this.total = countRes.data.count;\r\n                }\r\n                return response.data;\r\n            } catch (error) {\r\n                console.error('查询云数据库失败:', error);\r\n                throw error;\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        // 首次加载数据\r\n        this.queryCloudDatabase();\r\n        // 启动定时器（每5秒请求一次）\r\n        this.timer = setInterval(() => {\r\n            this.queryCloudDatabase().catch(() => { });\r\n        }, 10000);\r\n    },\r\n    beforeUnmount() {\r\n        // 组件卸载时清除定时器\r\n        if (this.timer) {\r\n            clearInterval(this.timer);\r\n            this.timer = null;\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n<style scoped>\r\ntable {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n\r\nth,\r\ntd {\r\n    border: 1px solid #ddd;\r\n    padding: 8px;\r\n    text-align: left;\r\n}\r\n\r\nth {\r\n    background-color: #f2f2f2;\r\n}\r\n</style>"],"mappings":";;AA6HA,MAAMA,KAAI,GAAIC,OAAO,CAAC,OAAO,CAAC;AAC9B;AACA,MAAMC,MAAK,GAAI;EACXC,KAAK,EAAE,oBAAoB;EAC3BC,SAAS,EAAE,kCAAkC;EAC7CC,GAAG,EAAE;AACT,CAAC;AAED,eAAe;EACXC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,aAAa,EAAE,KAAK;MACpBC,QAAQ,EAAE;QACNH,IAAI,EAAE,EAAE;QACRI,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZC,KAAK,EAAE;MACX,CAAC;MACDC,UAAU,EAAE;QACRC,IAAI,EAAE,CAAC;QACPC,KAAK,EAAE,EAAE;QACTT,IAAI,EAAE,EAAE;QACRI,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZC,KAAK,EAAE;MACX,CAAC;MACDI,KAAK,EAAE,CAAC;MACRC,SAAS,EAAE,EAAE;MACbC,KAAK,EAAE;IACX,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACL;IACA,MAAMC,YAAYA,CAAA,EAAG;MACjB,IAAI;QACA,MAAMC,WAAU,GAAI,MAAM,IAAI,CAACC,cAAc,CAAC,CAAC;QAC/C,MAAMC,YAAW,GAAI;UACjBC,IAAI,EAAE,IAAI,CAACX,UAAU,CAACW,IAAI;UAC1BlB,IAAI,EAAE,IAAI,CAACO,UAAU,CAACP,IAAI;UAC1BI,KAAK,EAAE,IAAI,CAACG,UAAU,CAACH,KAAK;UAC5BC,QAAQ,EAAE,IAAI,CAACE,UAAU,CAACF,QAAQ;UAClCC,KAAK,EAAE,IAAI,CAACC,UAAU,CAACD;QAC3B,CAAC;QACD;QACA,MAAMZ,KAAK,CAACyB,IAAI,CACZ,4CAA4CJ,WAAW,EAAE,EACzD;UACIhB,GAAG,EAAEH,MAAM,CAACG,GAAG;UACfqB,KAAK,EAAE,sCAAsCC,IAAI,CAACC,SAAS,CAACL,YAAY,CAAC;QAC7E,CACJ,CAAC;QACD,IAAI,CAACM,QAAQ,CAACC,OAAO,CAAC,QAAQ,CAAC;QAC/B,IAAI,CAACC,kBAAkB,CAAC,CAAC;MAC7B,EAAE,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/B,IAAI,CAACH,QAAQ,CAACG,KAAK,CAAC,YAAY,CAAC;MACrC;IACJ,CAAC;IAEDE,gBAAgBA,CAACC,GAAG,EAAE;MAClB,IAAI,CAACtB,UAAU,CAACE,KAAI,GAAIoB,GAAE;MAC1B,IAAI,CAACJ,kBAAkB,CAAC;IAC5B,CAAC;IACDK,gBAAgBA,CAACD,GAAG,EAAE;MAClB,IAAI,CAACtB,UAAU,CAACC,IAAG,GAAIqB,GAAE;MACzB,IAAI,CAACJ,kBAAkB,CAAC;IAC5B,CAAC;IACD;IACA,MAAMT,cAAcA,CAAA,EAAG;MACnB,IAAI;QACA,MAAMe,QAAO,GAAI,MAAMrC,KAAK,CAACsC,GAAG,CAAC,gBAAgB,EAAE;UAC/CC,MAAM,EAAE;YACJC,UAAU,EAAE,mBAAmB;YAC/BC,KAAK,EAAEvC,MAAM,CAACC,KAAK;YACnBuC,MAAM,EAAExC,MAAM,CAACE;UACnB;QACJ,CAAC,CAAC;QACF,OAAOiC,QAAQ,CAAC9B,IAAI,CAACoC,YAAY;MACrC,EAAE,OAAOX,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;QACjC,MAAMA,KAAK;MACf;IACJ,CAAC;IAEDY,mBAAmBA,CAACP,QAAQ,EAAE;MAC1B,IAAI,CAACxB,UAAU,CAACD,KAAI,GAAIyB,QAAQ,CAACQ,QAAQ;MACzC,IAAI,CAAChB,QAAQ,CAACC,OAAO,CAAC,QAAQ,CAAC;IACnC,CAAC;IAED;IACA,MAAMgB,UAAUA,CAAA,EAAG;MACf,IAAI;QACA,MAAMzB,WAAU,GAAI,MAAM,IAAI,CAACC,cAAc,CAAC,CAAC;QAC/C,MAAMyB,YAAW,GAAI;UACjBvB,IAAI,EAAE,IAAI,CAACf,QAAQ,CAACe,IAAI;UACxBlB,IAAI,EAAE,IAAI,CAACG,QAAQ,CAACH,IAAI;UACxBI,KAAK,EAAE,IAAI,CAACD,QAAQ,CAACC,KAAK;UAC1BC,QAAQ,EAAE,IAAI,CAACF,QAAQ,CAACE,QAAQ;UAChCC,KAAK,EAAE,IAAI,CAACH,QAAQ,CAACG;QACzB,CAAC;QACD,MAAMZ,KAAK,CAACyB,IAAI,CACZ,+CAA+CJ,WAAW,EAAE,EAC5D;UACIhB,GAAG,EAAEH,MAAM,CAACG,GAAG;UACfqB,KAAK,EAAE,+BAA+B,IAAI,CAACjB,QAAQ,CAACuC,GAAG,qBAAqBrB,IAAI,CAACC,SAAS,CAACmB,YAAY,CAAC;QAC5G,CACJ,CAAC;QACD,IAAI,CAAClB,QAAQ,CAACC,OAAO,CAAC,UAAU,CAAC;QACjC,IAAI,CAACtB,aAAY,GAAI,KAAK;QAC1B,IAAI,CAACuB,kBAAkB,CAAC,CAAC;MAC7B,EAAE,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;QACjC,IAAI,CAACH,QAAQ,CAACG,KAAK,CAAC,cAAc,CAAC;MACvC;IACJ,CAAC;IAED;IACA,MAAMiB,UAAUA,CAACC,IAAI,EAAE;MACnB,IAAI,CAACzC,QAAO,GAAI;QACZuC,GAAG,EAAEE,IAAI,CAACF,GAAG;QACbxB,IAAI,EAAE0B,IAAI,CAAC1B,IAAI;QACflB,IAAI,EAAE4C,IAAI,CAAC5C,IAAI;QACfI,KAAK,EAAEwC,IAAI,CAACxC,KAAK;QACjBC,QAAQ,EAAEuC,IAAI,CAACvC,QAAQ;QACvBC,KAAK,EAAEsC,IAAI,CAACtC;MAChB,CAAC;MACD,IAAI,CAACJ,aAAY,GAAI,IAAI;MACzB,IAAI;QACA,MAAMa,WAAU,GAAI,MAAM,IAAI,CAACC,cAAc,CAAC,CAAC;QAC/C,MAAMyB,YAAW,GAAI;UACjBvB,IAAI,EAAE0B,IAAI,CAAC1B,IAAI;UACflB,IAAI,EAAE4C,IAAI,CAAC5C,IAAI;UACfI,KAAK,EAAEwC,IAAI,CAACxC,KAAK;UACjBC,QAAQ,EAAEuC,IAAI,CAACvC,QAAQ;UACvBC,KAAK,EAAEsC,IAAI,CAACtC;QAChB,CAAC;QACD,MAAMZ,KAAK,CAACyB,IAAI,CACZ,+CAA+CJ,WAAW,EAAE,EAC5D;UACIhB,GAAG,EAAEH,MAAM,CAACG,GAAG;UACfqB,KAAK,EAAE,+BAA+BwB,IAAI,CAACF,GAAG,qBAAqBrB,IAAI,CAACC,SAAS,CAACmB,YAAY,CAAC;QACnG,CAAC,CAAC;QACN,IAAI,CAAChB,kBAAkB,CAAC,CAAC;MAC7B,EAAE,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;QACjC,IAAI,CAACH,QAAQ,CAACG,KAAK,CAAC,cAAc,CAAC;MACvC;IACJ,CAAC;IAED;IACA,MAAMmB,YAAYA,CAACC,EAAE,EAAE;MACnB,IAAI;QACA,MAAM/B,WAAU,GAAI,MAAM,IAAI,CAACC,cAAc,CAAC,CAAC;QAC/C,MAAMtB,KAAK,CAACyB,IAAI,CACZ,+CAA+CJ,WAAW,EAAE,EAC5D;UACIhB,GAAG,EAAEH,MAAM,CAACG,GAAG;UACfqB,KAAK,EAAE,+BAA+B0B,EAAE;QAC5C,CACJ,CAAC;QACD,IAAI,CAACvB,QAAQ,CAACC,OAAO,CAAC,QAAQ,CAAC;QAC/B,IAAI,CAACC,kBAAkB,CAAC,CAAC;MAC7B,EAAE,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/B,IAAI,CAACH,QAAQ,CAACG,KAAK,CAAC,YAAY,CAAC;MACrC;IACJ,CAAC;IAED;IACA,MAAMD,kBAAkBA,CAAA,EAAG;MACvB,IAAI;QACA,MAAMV,WAAU,GAAI,MAAM,IAAI,CAACC,cAAc,CAAC,CAAC;QAC/C,MAAMI,KAAI,GAAI;UACVrB,GAAG,EAAEH,MAAM,CAACG,GAAG;UACfqB,KAAK,EAAE,+BAA+B,CAAC,IAAI,CAACb,UAAU,CAACC,IAAG,GAAI,CAAC,IAAI,IAAI,CAACD,UAAU,CAACE,KAAK,WAAW,IAAI,CAACF,UAAU,CAACE,KAAK,SAAS;UACjIsC,UAAU,EAAE;QAChB,CAAC;QACD,MAAMhB,QAAO,GAAI,MAAMrC,KAAK,CAACyB,IAAI,CAC7B,8CAA8CJ,WAAW,EAAE,EAC3DK,KACJ,CAAC;QACD,MAAM,CAAC4B,OAAO,EAAEC,QAAQ,IAAI,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC1CzD,KAAK,CAACyB,IAAI,CAAC,8CAA8CJ,WAAW,EAAE,EAAE;UAAEhB,GAAG,EAAEH,MAAM,CAACG,GAAG;UAAEqB,KAAK,EAAEA,KAAK,CAACA;QAAM,CAAC,CAAC,EAChH1B,KAAK,CAACyB,IAAI,CAAC,8CAA8CJ,WAAW,EAAE,EAAE;UAAEhB,GAAG,EAAEH,MAAM,CAACG,GAAG;UAAEqB,KAAK,EAAEA,KAAK,CAAC2B;QAAW,CAAC,EACvH,CAAC;QAEF,MAAMK,OAAM,GAAIJ,OAAO,CAAC/C,IAAI,CAACA,IAAI,CAACoD,GAAG,CAACT,IAAG,IAAKvB,IAAI,CAACiC,KAAK,CAACV,IAAI,CAAC,CAAC;QAC/D;QACA,IAAIvB,IAAI,CAACC,SAAS,CAAC8B,OAAO,MAAM/B,IAAI,CAACC,SAAS,CAAC,IAAI,CAACX,SAAS,CAAC,EAAE;UAC5D,IAAI,CAACA,SAAQ,GAAIyC,OAAO;UACxB,IAAI,CAAC1C,KAAI,GAAIuC,QAAQ,CAAChD,IAAI,CAACsD,KAAK;QACpC;QACA,OAAOxB,QAAQ,CAAC9B,IAAI;MACxB,EAAE,OAAOyB,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;QACjC,MAAMA,KAAK;MACf;IACJ;EACJ,CAAC;EACD8B,OAAOA,CAAA,EAAG;IACN;IACA,IAAI,CAAC/B,kBAAkB,CAAC,CAAC;IACzB;IACA,IAAI,CAACb,KAAI,GAAI6C,WAAW,CAAC,MAAM;MAC3B,IAAI,CAAChC,kBAAkB,CAAC,CAAC,CAACiC,KAAK,CAAC,MAAM,CAAE,CAAC,CAAC;IAC9C,CAAC,EAAE,KAAK,CAAC;EACb,CAAC;EACDC,aAAaA,CAAA,EAAG;IACZ;IACA,IAAI,IAAI,CAAC/C,KAAK,EAAE;MACZgD,aAAa,CAAC,IAAI,CAAChD,KAAK,CAAC;MACzB,IAAI,CAACA,KAAI,GAAI,IAAI;IACrB;EACJ;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}